<%- include('../partials/_head.ejs', {title:'Add Product'}) %>
<body>
    <%- include('../partials/_nav.ejs', {role:'Admin',userId:userId}) %>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <div class="container">
        <h1>Add New Product</h1>
        <% if (errorMessages && errorMessages.length > 0) { %>
            <div class="error-messages">
                <% if (Array.isArray(errorMessages)) { %>
                    <% errorMessages.forEach(message => { %>
                        <p><%= message %></p>
                    <% }) %>
                <% } else { %>
                    <p><%= errorMessages %></p>
                <% } %>
            </div>
        <% } %>
        
        <form action="/product/add" method="post" class="product-form">
            <label for="productName">Product Name:</label>
            <input type="text" id="productName" name="productName">

            <label for="productDescription">Description:</label>
            <textarea id="productDescription" name="productDescription" rows="4"></textarea>

            <label for="productPrice">Price:</label>
            <input type="number" id="productPrice" name="productPrice">

            <label for="productStock">Stock:</label>
            <input type="number" id="productStock" name="productStock">

            <label for="imgSrc">Image Src:</label>
            <input type="text" id="imgSrc" name="imgSrc">

            <label for="productCategory">Category:</label>
            <select id="productCategory" name="productCategory">
                <option value="">Select category</option>
                <% categories.forEach(category => { %>
                    <option value="<%= category.id %>"><%= category.name %></option>
                <% }) %>
            </select>

            <button type="submit">Add Product</button>
        </form>
    </div>
    <%- include('../partials/_footer.ejs') %>
</body>
</html>
